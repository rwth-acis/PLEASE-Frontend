<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="search-results">
  <template>
    <template is="dom-repeat" items="[[results]]">
      <a href="#apps/[[item.app]]">
        <img src=[[_thumb(item.description.props.thumbnail)]] />
        <div>
          <div class="rating">
            <span class="back">★★★★★</span>
            <span class="fore" style$="width: calc(100% * [[item.rating]] / 5)">★★★★★</span>
          </div>
          <h3>[[item.description.title]]</h3>
        </div>
        <p>
          [[item.description.tabs.0.blocks.0.content]]
        </p>
      </a>
    </template>
  </template>

  <script>
    Polymer({
      is: 'search-results',
      properties: {
        results: {
          type: Array,
          value: () => [{
            app: 7,
            description: "some description",
            rating: 3.78
          },{
            app: 14,
            description: "not so nice app",
            rating: 1.123
          }]
        }
      },
      _thumb: (t) => t ? t : ''
    });
  </script>
</dom-module>
